<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>SPA Login App</title>
    <link rel="icon" href="./img/favicon.ico" type="image/x-icon" />

    <!-- CSS -->
    <link rel="stylesheet" href="./src/styles.css" />

    <!-- Error handling -->
    <script src="./src/core/errorManager.js"></script>

    <!-- Genesys stuff -->
    <link
      href="https://dhqbrvplips7x.cloudfront.net/common-ui-docs/genesys-webcomponents/3.8.1-178/genesys-webcomponents/genesys-webcomponents.css"
      rel="stylesheet"
    />
    <script
      type="module"
      src="https://dhqbrvplips7x.cloudfront.net/common-ui-docs/genesys-webcomponents/3.8.1-178/genesys-webcomponents/genesys-webcomponents.esm.js"
    ></script>

    <script>
      console.log("{am} index page loaded");
    </script>
  </head>
  <body>
    <h1>SPA Login App</h1>
    <div id="content"></div>
    <script>
      console.log("{am} scripts loading...");
    </script>

    <!-- Load Genesys Cloud SDK's -->
    <script src="https://sdk-cdn.mypurecloud.com/javascript/latest/purecloud-platform-client-v2.min.js"></script>
    <script src="https://sdk-cdn.mypurecloud.com/client-apps/2.6.6/purecloud-client-app-sdk.js"></script>

    <script type="module">
      import { startApp } from "./src/app.js";
      console.log("{am} app.js loaded");

      startApp()
        .then(() => {
          console.log("{am} Start function completed");
        })
        .catch((err) => {
          console.error("{am} Error during start:", err);
        });
    </script>
    <script>
      console.log("{am} scripts loaded!");
    </script>
  </body>
</html>
